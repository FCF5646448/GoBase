---
title: go入门基础05
date: 2019-02-21 17:47:11
tags: go基础
categories: go入门
description: go基础学习05，函数：基础函数、多返回值函数、可变参数函数、匿名函数、闭包函数、函数返回异常、函数作为参数传递
---

#### 基础函数
基本的go函数如下格式：func作为关键字。参数放在函数名后，用小括号括起来。返回值如果不止一个，也要用小括号括起来。“{” 必须放在函数名同一行右侧，空格隔开：
```go
func methodName(parma_list) (return_value_list) {
	return return_value_list
}
// parameter_list 的形式为 (param1 type1, param2 type2, …)
// return_value_list 的形式为 (ret1 type1, ret2 type2, …)
```
如若是某一结构体的函数，则使用如下形式声明
```go
type T struct {
	value float64
}
func (t T) Method() { //Method是T类型的函数
    fmt.Println(t.value)
}
```
* init 函数：每个源文件都只能包含一个init函数，init函数无需手动调用。如果文件里有main函数，则init函数会先于main函数执行。

#### 多返回值函数

#### 可变参数函数

#### 匿名函数

#### 闭包函数

#### 函数返回异常
go语言经常使用两个返回值来表示执行是否成功：返回某个值和true表示成功，返回零值(或nil)及false表示失败。当不使用true或false的时候，也可以使用error来代替第二个返回值：成功的话error为nil，否则返回错误信息。
在前面《go入门02》中，
```go
anInt, _ = strconv.Atoi(origStr)
```
如果origStr不能被转成整数，anInt会变成0，而 _ 无视了错误，导致程序会继续执行下去。其实是应该截止的。
```go
func main() {
	str := "abc"
	an,err := strconv.Atoi(str)
	if err != nil {
		fmt.Println("str is not a interger")
		return
	}
	fmt.Println(an)
}
```
也可以将错误获取放在if语句的初始化部分，但是变量作用域将只试用于if 后面的函数体
```go
if _,err := strconv.Atoi(str); err != nil {
	fmt.Println("str is not a interger")
	return
}
```


#### 函数作为参数传递